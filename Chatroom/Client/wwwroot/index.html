<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <title>Chatroom</title>
    <base href="/" />
    <link rel="shortcut icon" href="data:image/x-icon;," type="image/x-icon">
    <link href="https://fonts.googleapis.com/css2?family=Ubuntu&display=swap" rel="stylesheet"> 
    <link href="css/app.css" rel="stylesheet" />
</head>

<body>
    <app>Loading...</app>

    <!--<div id="blazor-error-ui">
        An unhandled error has occurred.
        <a href="" class="reload">Reload</a>
        <a class="dismiss">ðŸ—™</a>
    </div>-->
    <script src="_framework/blazor.webassembly.js"></script>
</body>

<script>
    window.chatroom = {
        setTitle: function (title) {
            document.title = title;
        },
        scrollIntoView: function (selector) {
            document.querySelector(selector).scrollIntoView();
        },
        isScrolledIntoView: function (parentSelector, childSelector) {
            var parentElem = document.querySelector(parentSelector);
            var childElem = document.querySelector(childSelector);

            if (!childElem) return true;

            var parentViewTop = parentElem.scrollTop;
            var parentViewBottom = parentViewTop + parentElem.clientHeight;

            var elemTop = childElem.offsetTop;
            var elemBottom = elemTop + childElem.clientHeight;

            var isTotal = elemBottom <= parentViewBottom && elemTop >= parentViewTop;
            var isPartial = (elemBottom > parentViewTop && elemTop < parentViewTop)
                || (elemBottom > parentViewBottom && elemTop < parentViewBottom);

            return isTotal || isPartial;
        },
        isMobile: function () {
            return window.innerWidth < 750;
        }
    }
</script>

</html>
